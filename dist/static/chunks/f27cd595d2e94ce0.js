(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53391,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},51068,(e,s,t)=>{s.exports=e.r(53732)},88643,e=>{"use strict";e.i(52916);var s=e.i(91436),t=e.i(51068),a=e.i(85477),i=e.i(94998),r=e.i(63453),n=e.i(89232),l=e.i(6719);let d=(0,r.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t="default",size:a="default",asChild:i=!1,...r}){let o=i?n.Slot.Root:"button";return(0,s.jsx)(o,{"data-slot":"button","data-variant":t,"data-size":a,className:(0,l.cn)(d({variant:t,size:a,className:e})),...r})}var c=e.i(855),u=e.i(71191),x=e.i(70853),m=e.i(57375),h=e.i(19852);let g=(0,h.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p=(0,h.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),v=(0,h.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var b=e.i(83106),f=e.i(37387),j=e.i(24204),y=e.i(22831);function N(){let e=(0,t.useParams)().slug,{addToCart:r,isInCart:n}=(0,x.default)(),[l,d]=(0,j.useState)(1),[h,N]=(0,j.useState)(!1),k=/^\d+$/.test(e),{data:w,isLoading:z,error:S}=(0,a.useQuery)({queryKey:["product",e],queryFn:async()=>k?(0,i.getProductById)(parseInt(e,10)):(0,i.getProductByFriendlyUrl)(e)}),P=async()=>{if(w){N(!0);try{await r(w,l),y.toast.success("Added to cart",{description:`${w.name} (${l})`})}catch(e){y.toast.error("Failed to add to cart")}finally{N(!1)}}},A=w?.images?.[0]?.url?`http://192.168.56.1:8080${w.images[0].url}`:"/placeholder-product.png",B=w?.finalPrice||w?.originalPrice||`${w?.price}`;return(0,s.jsxs)("main",{className:"min-h-screen bg-stone-50",children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 bg-stone-50/80 backdrop-blur-sm border-b border-stone-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-14",children:[(0,s.jsxs)(b.default,{href:"/",className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition-colors",children:[(0,s.jsx)(g,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,s.jsx)("span",{className:"font-semibold text-lg tracking-tight",children:"FREEDOM THREADS"}),(0,s.jsx)(b.default,{href:"/cart",className:"p-2 hover:bg-stone-200 rounded-full transition-colors",children:(0,s.jsx)(m.ShoppingBag,{className:"w-5 h-5"})})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:z?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)(c.Skeleton,{className:"aspect-square w-full bg-stone-200"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(c.Skeleton,{className:"h-8 w-3/4 bg-stone-200"}),(0,s.jsx)(c.Skeleton,{className:"h-6 w-1/3 bg-stone-200"}),(0,s.jsx)(c.Skeleton,{className:"h-24 w-full bg-stone-200"}),(0,s.jsx)(c.Skeleton,{className:"h-12 w-full bg-stone-200"})]})]}):S?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-stone-600",children:"Product not found."}),(0,s.jsx)(b.default,{href:"/",className:"mt-4 inline-block text-stone-900 underline underline-offset-4",children:"Back to home"})]}):w?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"relative aspect-square bg-stone-100 rounded-lg overflow-hidden",children:[w.images?.[0]?(0,s.jsx)(f.default,{src:A,alt:w.name,fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-stone-400",children:(0,s.jsx)("span",{children:"No image available"})}),w.discounted&&(0,s.jsx)(u.Badge,{className:"absolute top-4 left-4 bg-stone-900 text-stone-50",children:"SALE"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-stone-900",children:w.name}),(0,s.jsx)("p",{className:"text-xl text-stone-700",children:B})]}),w.description&&(0,s.jsx)("p",{className:"text-stone-600 leading-relaxed",children:w.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-stone-700",children:"Quantity:"}),(0,s.jsxs)("div",{className:"flex items-center border border-stone-200 rounded-lg",children:[(0,s.jsx)("button",{className:"p-2 hover:bg-stone-100 transition-colors disabled:opacity-50",onClick:()=>d(Math.max(1,l-1)),disabled:l<=1,children:(0,s.jsx)(p,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"w-12 text-center font-medium",children:l}),(0,s.jsx)("button",{className:"p-2 hover:bg-stone-100 transition-colors",onClick:()=>d(l+1),children:(0,s.jsx)(v,{className:"w-4 h-4"})})]})]}),(0,s.jsx)(o,{className:"w-full h-12 bg-stone-900 hover:bg-stone-800 text-stone-50",onClick:P,disabled:!w.available||h,children:h?"Adding...":w.available?n(w.sku)?"Add More to Cart":"Add to Cart":"Sold Out"}),(0,s.jsxs)("div",{className:"pt-4 border-t border-stone-200 space-y-2 text-sm text-stone-600",children:[w.sku&&(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"SKU:"})," ",w.sku]}),w.quantity>0&&w.quantity<10&&(0,s.jsxs)("p",{className:"text-amber-600",children:["Only ",w.quantity," left in stock"]})]})]})]}):null})]})}e.s(["default",()=>N],88643)}]);